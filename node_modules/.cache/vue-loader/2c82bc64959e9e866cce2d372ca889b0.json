{"remainingRequest":"D:\\chaotuPro\\map_under\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\chaotuPro\\map_under\\src\\views\\echarts\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\chaotuPro\\map_under\\src\\views\\echarts\\index.vue","mtime":1602208402594},{"path":"D:\\chaotuPro\\map_under\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\chaotuPro\\map_under\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\chaotuPro\\map_under\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\chaotuPro\\map_under\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWNoYXJ0cyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcE5hbWU6ICflhajlm70nLAogICAgICBtYXBEYXRhOiBbXSwKICAgICAgb2xkTmFtZUxpc3Q6IFtdLAogICAgICBsZXZlbDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOS4i+S4gOe6pwogICAgbmV4dChwYXJhbSkgewogICAgICBjb25zdCBzZWxmID0gdGhpcwogICAgICBjb25zdCBpbmRleCA9IHNlbGYub2xkTmFtZUxpc3QuZmluZEluZGV4KGU9PnsKICAgICAgICByZXR1cm4gZS5uYW1lID09PSBwYXJhbS5uYW1lCiAgICAgIH0pCiAgICAgIGlmKGluZGV4ID09PSAtMSAmJiBzZWxmLm1hcE5hbWUgIT09IHBhcmFtLm5hbWUpIHsKICAgICAgICBjb25zdCBvbGRNYXBJbmZvID0ge25hbWU6cGFyYW0ubmFtZSxwYXJlbnQ6c2VsZi5tYXBOYW1lLGxldmVsOnNlbGYubGV2ZWx9CiAgICAgICAgc2VsZi5tYXBOYW1lID0gcGFyYW0ubmFtZQogICAgICAgIHRyeXsKICAgICAgICAgIHNlbGYuaW5pdCgpCiAgICAgICAgICBzZWxmLm9sZE5hbWVMaXN0LnB1c2gob2xkTWFwSW5mbykKICAgICAgICAgIHNlbGYub2xkTWFwTmFtZSA9IHBhcmFtLm5hbWUKICAgICAgICAgIHNlbGYubGV2ZWwgKz0gMQogICAgICAgICAgY29uc29sZS5sb2coIm5leHQiLHNlbGYubGV2ZWwpCiAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICBzZWxmLm1hcE5hbWUgPSBzZWxmLm9sZE1hcE5hbWUKICAgICAgICAgIHNlbGYuJG1lc3NhZ2UuZXJyb3IoIuebruWJjei/mOacquacieivpeWfjuW4guS/oeaBr++8jOivt+etieWAmeaVsOaNruS4iuS8oCIpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuW3sue7j+aYr+acgOW6leWxguS6hiIpCiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkuIDnuqcKICAgIHByZSgpIHsKICAgICAgY29uc3Qgc2VsZiA9IHRoaXMKICAgICAgc2VsZi5sZXZlbCAtPSAxCiAgICAgIGNvbnNvbGUubG9nKCJwcmUiLHNlbGYubGV2ZWwpCiAgICAgIGNvbnN0IGluZGV4ID0gc2VsZi5vbGROYW1lTGlzdC5maW5kSW5kZXgoZT0+ewogICAgICAgIHJldHVybiBlLmxldmVsID09PSBzZWxmLmxldmVsCiAgICAgIH0pCiAgICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KQogICAgICBpZihpbmRleCA+IC0xKSB7CiAgICAgICAgc2VsZi5tYXBOYW1lID0gc2VsZi5vbGROYW1lTGlzdFtpbmRleF0ucGFyZW50CiAgICAgICAgY29uc29sZS5sb2coc2VsZi5tYXBOYW1lKQogICAgICAgIHNlbGYuaW5pdCgpCiAgICAgICAgc2VsZi5vbGROYW1lTGlzdC5zcGxpY2UoaW5kZXgsMSkKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxmLm9sZE5hbWVMaXN0ID0gW10KICAgICAgICBzZWxmLmxldmVsID0gMAogICAgICAgIHNlbGYuJG1lc3NhZ2UuZXJyb3IoIuW3sue7j+aYr+acgOmhtuWxguS6hiIpCiAgICAgIH0KICAgIH0sCiAgICBpbml0KCkgewogICAgICBjb25zdCBzZWxmID0gdGhpczsKICAgICAgbGV0IGRhdGE7CiAgICAgICAgZGF0YSA9IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9qc29uLyIgKyBzZWxmLm1hcE5hbWUgKyAiLmpzb24iKTsKICAgICAgICBzZWxmLm1hcERhdGEgPSBkYXRhOwogICAgICAgIHNlbGYuJGVjaGFydHMucmVnaXN0ZXJNYXAoc2VsZi5tYXBOYW1lLCBzZWxmLm1hcERhdGEpOwogICAgICAgIGxldCBtYXAgPSBzZWxmLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVjaGFydHMiKSk7CiAgICAgICAgY29uc3Qgb3B0aW9uID0gewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAiaXRlbSIsCiAgICAgICAgICAgIHNob3dEZWxheTogMCwKICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwLjIsCiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24ocGFyYW1zKSB7CiAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIHBhcmFtcy5zZXJpZXNOYW1lICsgIjxici8+IiArIHBhcmFtcy5uYW1lICsgIjogIiArIHBhcmFtcy52YWx1ZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAvLyDop4bop4nmmKDlsITnu4Tku7YKICAgICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgICBsZWZ0OiAicmlnaHQiLAogICAgICAgICAgICBtaW46IDEwMCwKICAgICAgICAgICAgbWF4OiAzODAwLAogICAgICAgICAgICBpblJhbmdlOiB7CiAgICAgICAgICAgICAgY29sb3I6IFsKICAgICAgICAgICAgICAgICIjMzEzNjk1IiwKICAgICAgICAgICAgICAgICIjNDU3NWI0IiwKICAgICAgICAgICAgICAgICIjNzRhZGQxIiwKICAgICAgICAgICAgICAgICIjYWJkOWU5IiwKICAgICAgICAgICAgICAgICIjZTBmM2Y4IiwKICAgICAgICAgICAgICAgICIjZmZmZmJmIiwKICAgICAgICAgICAgICAgICIjZmVlMDkwIiwKICAgICAgICAgICAgICAgICIjZmRhZTYxIiwKICAgICAgICAgICAgICAgICIjZjQ2ZDQzIiwKICAgICAgICAgICAgICAgICIjZDczMDI3IiwKICAgICAgICAgICAgICAgICIjYTUwMDI2IgogICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGV4dDogWyJIaWdoIiwgIkxvdyJdLCAvLyDmlofmnKzvvIzpu5jorqTkuLrmlbDlgLzmlofmnKwKICAgICAgICAgICAgY2FsY3VsYWJsZTogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIC8vIOW3peWFt+eusQogICAgICAgICAgdG9vbGJveDogewogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICBsZWZ0OiAibGVmdCIsCiAgICAgICAgICAgIHRvcDogInRvcCIsCiAgICAgICAgICAgIGZlYXR1cmU6IHsKICAgICAgICAgICAgICBkYXRhVmlldzogeyByZWFkT25seTogZmFsc2UgfSwgLy8gcmVhZE9ubHnkuLp0cnVl55qE5pe25YCZIOS4jeaYvuekuuWIt+aWsCDlsLHmmK/llK/kuIDnmoTmlbDmja7vvIzkuI3og73kv67mlLkg77yMZmFsc2Ug5YiZ5bim5pyJ5Yi35pawCiAgICAgICAgICAgICAgLy8gcmVzdG9yZToge30sIC8vIOi/mOWOn+aVsOaNrgogICAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSAvLyDlsIblnLDlm77kuIvovb3kuLrlm77niYcKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGxheW91dENlbnRlcjogWyc1MCUnLCc1NyUnXSwKICAgICAgICAgIGxheW91dFNpemU6IDEwMDAsCiAgICAgICAgICAvLyDmlbDmja4KICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbmFtZTogIjEiLAogICAgICAgICAgICAgIHR5cGU6ICJtYXAiLAogICAgICAgICAgICAgIG1hcDogc2VsZi5tYXBOYW1lLAogICAgICAgICAgICAgIHpvb206IDAuNiwKICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbWFwTG9jYXRpb246IHsKICAgICAgICAgICAgICAgIHk6IDMwLAogICAgICAgICAgICAgICAgeDogNjAKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGl0ZW1TeXRsZTogewogICAgICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgICAgIGNvbG9yOiAiI2ZlY2IyZSIsCiAgICAgICAgICAgICAgICAgIHNoYWRvd0JsdXI6IDEyLAogICAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogIiMwZDVlYmQiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjb29yZGluYXRlU3lzdGVtOiAiZ2VvIiwKICAgICAgICAgICAgICBkYXRhOiBbCiAgICAgICAgICAgICAgICB7IG5hbWU6ICLplKbmsZ/ljLoiLCB2YWx1ZTogIjIzMzMiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICLlj4zmtYHljLoiLCB2YWx1ZTogIjI2NjYiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICLpnZLnvorljLoiLCB2YWx1ZTogIjEzMzMiIH0KICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9OwogICAgICAgIG1hcC5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgICBtYXAub2ZmKCJjbGljayIpOwogICAgICAgIG1hcC5vZmYoImNvbnRleHRtZW51Iik7CiAgICAgICAgLy8g5omT5byA5Zyw5Zu+54K55Ye75LqL5Lu2CiAgICAgICAgbWFwLm9uKCJjbGljayIsIGZ1bmN0aW9uKHBhcmFtcykgewogICAgICAgICAgc2VsZi5uZXh0KHBhcmFtcykKICAgICAgICB9KTsKICAgICAgICAvLyDmiZPlvIDpvKDmoIflj7PplK7kuovku7YKICAgICAgICBtYXAub24oImNvbnRleHRtZW51IiwgZnVuY3Rpb24ocGFyYW1zKSB7CiAgICAgICAgICBzZWxmLnByZShwYXJhbXMpCiAgICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCkKICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/echarts","sourcesContent":["<template>\n<div>\n  <div id=\"echarts\"></div>\n</div>\n</template>\n<script>\nexport default {\n  name: \"Echarts\",\n  data() {\n    return {\n      mapName: '全国',\n      mapData: [],\n      oldNameList: [],\n      level: 0\n    };\n  },\n  methods: {\n    // 下一级\n    next(param) {\n      const self = this\n      const index = self.oldNameList.findIndex(e=>{\n        return e.name === param.name\n      })\n      if(index === -1 && self.mapName !== param.name) {\n        const oldMapInfo = {name:param.name,parent:self.mapName,level:self.level}\n        self.mapName = param.name\n        try{\n          self.init()\n          self.oldNameList.push(oldMapInfo)\n          self.oldMapName = param.name\n          self.level += 1\n          console.log(\"next\",self.level)\n        }catch (e) {\n          self.mapName = self.oldMapName\n          self.$message.error(\"目前还未有该城市信息，请等候数据上传\")\n        }\n      } else {\n        this.$message.error(\"已经是最底层了\")\n      }\n    },\n    // 上一级\n    pre() {\n      const self = this\n      self.level -= 1\n      console.log(\"pre\",self.level)\n      const index = self.oldNameList.findIndex(e=>{\n        return e.level === self.level\n      })\n      // console.log(index)\n      if(index > -1) {\n        self.mapName = self.oldNameList[index].parent\n        console.log(self.mapName)\n        self.init()\n        self.oldNameList.splice(index,1)\n      } else {\n        self.oldNameList = []\n        self.level = 0\n        self.$message.error(\"已经是最顶层了\")\n      }\n    },\n    init() {\n      const self = this;\n      let data;\n        data = require(\"../../assets/json/\" + self.mapName + \".json\");\n        self.mapData = data;\n        self.$echarts.registerMap(self.mapName, self.mapData);\n        let map = self.$echarts.init(document.getElementById(\"echarts\"));\n        const option = {\n          tooltip: {\n            trigger: \"item\",\n            showDelay: 0,\n            transitionDuration: 0.2,\n            formatter: function(params) {\n              return (\n                params.seriesName + \"<br/>\" + params.name + \": \" + params.value\n              );\n            }\n          },\n          // 视觉映射组件\n          visualMap: {\n            left: \"right\",\n            min: 100,\n            max: 3800,\n            inRange: {\n              color: [\n                \"#313695\",\n                \"#4575b4\",\n                \"#74add1\",\n                \"#abd9e9\",\n                \"#e0f3f8\",\n                \"#ffffbf\",\n                \"#fee090\",\n                \"#fdae61\",\n                \"#f46d43\",\n                \"#d73027\",\n                \"#a50026\"\n              ]\n            },\n            text: [\"High\", \"Low\"], // 文本，默认为数值文本\n            calculable: true\n          },\n          // 工具箱\n          toolbox: {\n            show: true,\n            left: \"left\",\n            top: \"top\",\n            feature: {\n              dataView: { readOnly: false }, // readOnly为true的时候 不显示刷新 就是唯一的数据，不能修改 ，false 则带有刷新\n              // restore: {}, // 还原数据\n              saveAsImage: {} // 将地图下载为图片\n            }\n          },\n          layoutCenter: ['50%','57%'],\n          layoutSize: 1000,\n          // 数据\n          series: [\n            {\n              name: \"1\",\n              type: \"map\",\n              map: self.mapName,\n              zoom: 0.6,\n              label: {\n                show: true\n              },\n              mapLocation: {\n                y: 30,\n                x: 60\n              },\n              itemSytle: {\n                normal: {\n                  color: \"#fecb2e\",\n                  shadowBlur: 12,\n                  shadowColor: \"#0d5ebd\"\n                }\n              },\n              coordinateSystem: \"geo\",\n              data: [\n                { name: \"锦江区\", value: \"2333\" },\n                { name: \"双流区\", value: \"2666\" },\n                { name: \"青羊区\", value: \"1333\" }\n              ]\n            }\n          ]\n        };\n        map.setOption(option);\n        map.off(\"click\");\n        map.off(\"contextmenu\");\n        // 打开地图点击事件\n        map.on(\"click\", function(params) {\n          self.next(params)\n        });\n        // 打开鼠标右键事件\n        map.on(\"contextmenu\", function(params) {\n          self.pre(params)\n        });\n    }\n  },\n  mounted() {\n    this.init()\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n  #echarts{\n    width: 100%;\n    height: 740px;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: aqua;\n    float: right;\n  }\n</style>"]}]}